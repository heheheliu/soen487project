{"ast":null,"code":"import _asyncToGenerator from \"/Users/liuhe/Documents/GitHub/HL_project/soen487project/a2-new-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"AddAlbum\",\n  data: function data() {\n    return {\n      album: {\n        code: null,\n        title: \"\",\n        description: \"\",\n        year: 0,\n        author: \"\",\n        cover: null\n      },\n      result: \"\",\n      fileList: []\n    };\n  },\n  methods: {\n    back: function back() {\n      this.$router.back(-1);\n    },\n    add: function add() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.album.code) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return axios.post(\"http://localhost:8866/albums\", _this.album).then(function (res) {\n                  _this.result = res.data;\n                });\n\n              case 3:\n                if (_this.result) {\n                  _this.$notify({\n                    title: \"Success\",\n                    message: \"Add success\",\n                    type: \"success\"\n                  });\n                } else {\n                  _this.$notify.error({\n                    title: \"Error\",\n                    message: \"Add failed\"\n                  });\n                }\n\n                _context.next = 7;\n                break;\n\n              case 6:\n                _this.$notify.error({\n                  title: \"Error\",\n                  message: \"Miss some information\"\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    } // handleRemove(file, fileList) {\n    //   console.log(file, fileList);\n    // },\n    // handlePreview(file) {\n    //   console.log(file);\n    //   console.log(this.fileList);\n    // },\n    // changeFileList(file, fileList) {\n    //   this.fileList = fileList;\n    //   this.album.cover = fileList[0].name;\n    // }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AAEA;AACAA,kBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,kBADA;AAEAC,iBAFA;AAGAC,uBAHA;AAIAC,eAJA;AAKAC,kBALA;AAMAC;AANA,OADA;AASAC,gBATA;AAUAC;AAVA;AAYA,GAfA;AAgBAC;AACAC,QADA,kBACA;AACA;AACA,KAHA;AAIAC,OAJA,iBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,gBADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEAC,MACAC,IADA,iCACA,WADA,EAEAC,IAFA,CAEA;AACA;AACA,iBAJA,CAFA;;AAAA;AAOA;AACA;AACAZ,oCADA;AAEAa,0CAFA;AAGAC;AAHA;AAKA,iBANA,MAMA;AACA;AACAd,kCADA;AAEAa;AAFA;AAIA;;AAlBA;AAAA;;AAAA;AAoBA;AACAb,gCADA;AAEAa;AAFA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA,KA7BA,CA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxCA;AAhBA","names":["name","data","album","code","title","description","year","author","cover","result","fileList","methods","back","add","axios","post","then","message","type"],"sourceRoot":"src/views","sources":["AddAlbum.vue"],"sourcesContent":["<template>\n  <div class=\"add-album\">\n    <el-container>\n      <el-header>\n        <el-row>\n          <el-col :span=\"2\" class=\"back\">\n            <i class=\"el-icon-d-arrow-left\" @click=\"back\"></i>\n          </el-col>\n          <el-col :span=\"20\" style=\"text-align: center\">\n            <h1>Add Album Information</h1>\n          </el-col>\n        </el-row>\n      </el-header>\n      <el-main>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.code\" v-model=\"album.code\">\n            <template slot=\"prepend\">Code : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.year\" v-model=\"album.year\">\n            <template slot=\"prepend\">Year : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.title\" v-model=\"album.title\">\n            <template slot=\"prepend\">Title : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.author\" v-model=\"album.author\">\n            <template slot=\"prepend\">Author : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input\n            :placeholder=\"album.description\"\n            v-model=\"album.description\"\n          >\n            <template slot=\"prepend\">Description : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.cover\" v-model=\"album.cover\">\n            <template slot=\"prepend\">Cover : </template>\n          </el-input>\n          <!-- <el-upload\n            class=\"upload-demo\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :file-list=\"fileList\"\n            :on-change=\"changeFileList\"\n            list-type=\"picture\">\n            <el-button size=\"small\" type=\"primary\">Click to upload</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">jpg/png files with a size less than 500kb</div>\n          </el-upload>\n          {{fileList}} -->\n        </div>\n        <div class=\"item\">\n          <el-button type=\"success\" plain @click=\"add\">Add</el-button>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"AddAlbum\",\n  data() {\n    return {\n      album: {\n        code: null,\n        title: \"\",\n        description: \"\",\n        year: 0,\n        author: \"\",\n        cover: null,\n      },\n      result: \"\",\n      fileList: []\n    };\n  },\n  methods: {\n    back() {\n      this.$router.back(-1);\n    },\n    async add() {\n      if (this.album.code) {\n        await axios\n          .post(`http://localhost:8866/albums`, this.album)\n          .then((res) => {\n            this.result = res.data;\n          });\n        if (this.result) {\n          this.$notify({\n            title: \"Success\",\n            message: \"Add success\",\n            type: \"success\",\n          });\n        } else {\n          this.$notify.error({\n            title: \"Error\",\n            message: \"Add failed\",\n          });\n        }\n      } else {\n        this.$notify.error({\n          title: \"Error\",\n          message: \"Miss some information\",\n        });\n      }\n    },\n    // handleRemove(file, fileList) {\n    //   console.log(file, fileList);\n    // },\n    // handlePreview(file) {\n    //   console.log(file);\n    //   console.log(this.fileList);\n    // },\n    // changeFileList(file, fileList) {\n    //   this.fileList = fileList;\n    //   this.album.cover = fileList[0].name;\n    // }\n  },\n};\n</script>\n\n<style scoped>\n.add-album {\n  height: 100%;\n}\n\n.el-container {\n  background-color: #E8E8FF;\n  height:100%;\n}\n\n.item {\n  margin-bottom: 10px;\n}\n\n.back {\n  cursor: pointer;\n}\n</style>"]},"metadata":{},"sourceType":"module"}