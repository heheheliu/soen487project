{"ast":null,"code":"import _asyncToGenerator from \"/Users/liuhe/Documents/GitHub/HL_project/soen487project/a2-new-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'ModifyAlbum',\n  data: function data() {\n    return {\n      code: null,\n      album: {},\n      result: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.code = this.$route.params.code;\n    axios.get(\"http://localhost:8866/albums/\".concat(this.code)).then(function (res) {\n      _this.album = res.data;\n    });\n  },\n  methods: {\n    back: function back() {\n      this.$router.back(-1);\n    },\n    modify: function modify() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.put(\"http://localhost:8866/albums\", _this2.album).then(function (res) {\n                  console.log(res);\n                  _this2.result = res.data;\n                  console.log(_this2.result);\n                });\n\n              case 2:\n                if (_this2.result) {\n                  _this2.$notify({\n                    title: 'Success',\n                    message: 'Update success',\n                    type: 'success'\n                  });\n                } else {\n                  _this2.$notify.error({\n                    title: 'Error',\n                    message: 'Update failed'\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AAEA;AACAA,qBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,gBADA;AAEAC,eAFA;AAGAC;AAHA;AAKA,GARA;AASAC,SATA,qBASA;AAAA;;AACA;AACAC;AACA;AACA,KAFA;AAGA,GAdA;AAeAC;AACAC,QADA,kBACA;AACA;AACA,KAHA;AAIAC,UAJA,oBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAH;AACAI;AACA;AACAA;AACA,iBAJA,CADA;;AAAA;AAMA;AACA;AACAC,oCADA;AAEAC,6CAFA;AAGAC;AAHA;AAKA,iBANA,MAMA;AACA;AACAF,kCADA;AAEAC;AAFA;AAIA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAtBA;AAfA","names":["name","data","code","album","result","created","axios","methods","back","modify","console","title","message","type"],"sourceRoot":"src/views","sources":["ModifyAlbum.vue"],"sourcesContent":["<template>\n  <div class=\"modify-album\">\n    <el-container>\n      <el-header>\n        <el-row>\n          <el-col :span=\"2\" class=\"back\">\n            <i class=\"el-icon-d-arrow-left\" @click=\"back\"></i>\n          </el-col>\n          <el-col :span=\"20\" style=\"text-align:center\">\n            <h1>Modify Album Information</h1>\n          </el-col>\n        </el-row>\n      </el-header>\n      <el-main>\n        <div class=\"item\"> \n          <el-input :placeholder=\"album.code\" v-model=\"album.code\">\n            <template slot=\"prepend\">Code : </template>\n          </el-input>\n        </div>\n        <div class=\"item\"> \n          <el-input :placeholder=\"album.year\" v-model=\"album.year\">\n            <template slot=\"prepend\">Year : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.title\" v-model=\"album.title\">\n            <template slot=\"prepend\">Title : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.author\" v-model=\"album.author\">\n            <template slot=\"prepend\">Author : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-input :placeholder=\"album.description\" v-model=\"album.description\">\n            <template slot=\"prepend\">Description : </template>\n          </el-input>\n        </div>\n        <div class=\"item\"> \n          <el-input :placeholder=\"album.cover\" v-model=\"album.cover\">\n            <template slot=\"prepend\">Cover : </template>\n          </el-input>\n        </div>\n        <div class=\"item\">\n          <el-button type=\"success\" plain @click=\"modify\">Modify</el-button>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'ModifyAlbum',\n  data() {\n    return {\n      code: null,\n      album: {},\n      result: \"\"\n    }\n  },\n  created() {\n    this.code = this.$route.params.code;\n    axios.get(`http://localhost:8866/albums/${this.code}`).then((res) => {\n      this.album = res.data;\n    });\n  },\n  methods: {\n    back() {\n      this.$router.back(-1);\n    },\n    async modify() {\n      await axios.put(`http://localhost:8866/albums`,this.album).then((res) => {\n        console.log(res);\n        this.result = res.data;\n        console.log(this.result);\n      });\n      if(this.result) {\n        this.$notify({\n          title: 'Success',\n          message: 'Update success',\n          type: 'success'\n        });\n      } else {\n          this.$notify.error({\n          title: 'Error',\n          message: 'Update failed'\n        });\n      }\n    }\n  },\n  \n}\n</script>\n\n<style scoped>\n.modify-album {\n  height: 100%;\n}\n\n.el-container {\n  background-color: #DDF3FF;\n  height:100%;\n}\n\n.item {\n  margin-bottom: 10px;\n}\n\n.back {\n  cursor: pointer;\n}\n</style>"]},"metadata":{},"sourceType":"module"}