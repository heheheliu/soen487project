{"ast":null,"code":"import _asyncToGenerator from \"/Users/liuhe/Documents/GitHub/HL_project/soen487project/a2-new-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data: function data() {\n    return {\n      defaultAlbums: [],\n      albums: [],\n      searchValue: \"\",\n      result: \"\"\n    };\n  },\n  methods: {\n    doSearch: function doSearch() {\n      var _this = this;\n\n      if (this.searchValue) {\n        this.albums = this.albums.filter(function (album) {\n          return album.title.includes(_this.searchValue);\n        });\n      } else {\n        this.albums = this.defaultAlbums;\n      }\n    },\n    modifyAlbum: function modifyAlbum(code) {\n      this.$router.push({\n        path: \"/modify/\".concat(code)\n      });\n    },\n    addAlbum: function addAlbum() {\n      this.$router.push({\n        path: \"/add\"\n      });\n    },\n    checkLog: function checkLog() {\n      this.$router.push({\n        path: \"/log\"\n      });\n    },\n    deleteAlbum: function deleteAlbum(code) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.delete(\"http://localhost:8866/albums/\".concat(code)).then(function (res) {\n                  _this2.result = res.data;\n                });\n\n              case 2:\n                if (_this2.result) {\n                  _this2.$notify({\n                    title: 'Success',\n                    message: 'Update success',\n                    type: 'success'\n                  });\n                } else {\n                  _this2.$notify.error({\n                    title: 'Error',\n                    message: 'Update failed'\n                  });\n                }\n\n                _this2.initData();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    initData: function initData() {\n      var _this3 = this;\n\n      axios.get(\"http://localhost:8866/albums\").then(function (res) {\n        _this3.albums = res.data;\n        _this3.defaultAlbums = res.data;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.initData();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AAEA;AACAA,oBADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACAC,uBADA;AAEAC,gBAFA;AAGAC,qBAHA;AAIAC;AAJA;AAMA,GAZA;AAaAC;AACAC,YADA,sBACA;AAAA;;AACA;AACA;AAAA;AAAA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA;AAQAC,eARA,uBAQAC,IARA,EAQA;AACA;AAAAC;AAAA;AACA,KAVA;AAWAC,YAXA,sBAWA;AACA;AAAAD;AAAA;AACA,KAbA;AAcAE,YAdA,sBAcA;AACA;AAAAF;AAAA;AACA,KAhBA;AAiBAG,eAjBA,uBAiBAJ,IAjBA,EAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAK;AACA;AACA,iBAFA,CADA;;AAAA;AAIA;AACA;AACAC,oCADA;AAEAC,6CAFA;AAGAC;AAHA;AAKA,iBANA,MAMA;AACA;AACAF,kCADA;AAEAC;AAFA;AAIA;;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlCA;AAmCAE,YAnCA,sBAmCA;AAAA;;AACAJ;AACA;AACA;AACA,OAHA;AAIA;AAxCA,GAbA;AAuDAK,SAvDA,qBAuDA;AACA;AACA;AAzDA","names":["name","props","msg","data","defaultAlbums","albums","searchValue","result","methods","doSearch","modifyAlbum","code","path","addAlbum","checkLog","deleteAlbum","axios","title","message","type","initData","mounted"],"sourceRoot":"src/components","sources":["HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"hello\">\n    <el-container>\n      <el-header style=\"text-align:center;height:150px\">\n        <h1>{{ msg }}</h1>\n        <el-row>\n          <el-col :span=\"12\" :offset=\"6\">\n            <el-input\n              placeholder=\"Enter title of Album\"\n              prefix-icon=\"el-icon-search\"\n              v-model=\"searchValue\"\n              @input=\"doSearch\">\n            </el-input>\n          </el-col>\n          <el-col :span=\"6\">\n            <div style=\"padding:0px;margin:0px;width:70px;top:15px;right:15px;position:absolute;\">\n              <el-button icon=\"el-icon-document-add\" circle size=\"mini\" @click=\"addAlbum\"></el-button>\n              <el-button icon=\"el-icon-document\" circle size=\"mini\" @click=\"checkLog\"></el-button>\n            </div>\n          </el-col>\n        </el-row>\n      </el-header>\n      <el-main>\n        <div v-if=\"albums.length>0\">\n          <el-row v-for=\"album in albums\" :key=\"album.code\">\n            <el-card shadow=\"hover\" style=\"height:160px\">\n              <el-row>\n                <el-col :span=\"6\">\n                  <div>No: {{album.code}} </div>\n                  <div>Tilte: {{album.title}} </div>\n                  <div>Author: {{album.author}} </div>\n                  <div>Description: {{album.description}}</div>\n                </el-col>\n                <el-col :span=\"14\">\n                  <div v-if=\"album.cover\">\n                    <img :src=\"album.cover\" style=\"width: 100px; height: 100px\" />\n                  </div>\n                  <div v-else><el-empty :image-size=\"50\" description=\"no image\" style=\"padding:0px\"></el-empty></div>\n                </el-col>\n                <el-col :span=\"4\">\n                  <div style=\"padding:0px;margin:0px;width:30px;top:0;right:0;position:absolute;\">\n                    <div><el-button type=\"success\" icon=\"el-icon-edit\" circle size=\"mini\" @click=\"modifyAlbum(album.code)\"></el-button></div>\n                    <div><el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"mini\" @click=\"deleteAlbum(album.code)\"></el-button></div>\n                  </div>\n                </el-col>\n              </el-row>\n            </el-card>\n          </el-row>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      defaultAlbums: [],\n      albums: [],\n      searchValue: \"\",\n      result: \"\"\n    }\n  },\n  methods: {\n    doSearch() {\n      if(this.searchValue) {\n        this.albums = this.albums.filter(album => album.title.includes(this.searchValue));\n      } else {\n        this.albums = this.defaultAlbums;\n      }\n    },\n    modifyAlbum(code) {\n      this.$router.push({path:`/modify/${code}`});\n    },\n    addAlbum() {\n      this.$router.push({path:`/add`});\n    },\n    checkLog() {\n      this.$router.push({path:`/log`});\n    },\n    async deleteAlbum(code) {\n      await axios.delete(`http://localhost:8866/albums/${code}`).then((res)=>{\n        this.result = res.data;\n      });\n      if(this.result) {\n        this.$notify({\n          title: 'Success',\n          message: 'Update success',\n          type: 'success'\n        });\n      } else {\n        this.$notify.error({\n          title: 'Error',\n          message: 'Update failed'\n        });\n      }\n      this.initData();\n    },\n    initData() {\n      axios.get(\"http://localhost:8866/albums\").then((res)=>{\n      this.albums = res.data;\n      this.defaultAlbums = res.data;\n      });\n    }\n  },\n  mounted() {\n    this.initData();\n  },\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.hello {\n  height: 100%;\n}\n\n.el-container {\n  background-color: #FFFACD;\n  height:100%;\n}\n\n.el-row {\n  padding: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}